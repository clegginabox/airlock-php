{% extends "layout/base.twig" %}

{% block title %}You Made It!{% endblock %}

{% block body %}
    {# Confetti #}
    <div class="confetti-container" id="confetti"></div>

    <main class="mx-auto flex w-full max-w-2xl flex-col items-center px-4 py-12 text-center sm:py-16">
        <section class="overflow-hidden rounded-3xl border border-base-300 bg-base-200 p-8 shadow-[0_24px_80px_-40px_rgba(0,0,0,0.6)] backdrop-blur sm:p-12">

            {# Animated check icon #}
            <div class="check-circle mx-auto mb-8 flex h-28 w-28 items-center justify-center rounded-full bg-success/15">
                <svg class="h-16 w-16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path class="check-mark" d="M5 13l4 4L19 7" stroke="oklch(var(--su))" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>

            {# Heading #}
            <h1 class="fade-up fade-up-1 text-4xl font-black sm:text-5xl">
                You Made It!
            </h1>

            <p class="fade-up fade-up-2 mt-4 text-lg text-base-content/60">
                You've been admitted through the airlock. Your slot is now active.
            </p>

            {# Countdown ring #}
            <div class="fade-up fade-up-3 mt-8 flex flex-col items-center">
                <div class="relative">
                    <svg class="countdown-ring h-24 w-24" viewBox="0 0 100 100">
                        <circle class="countdown-track" cx="50" cy="50" r="45"/>
                        <circle class="countdown-progress" cx="50" cy="50" r="45"/>
                    </svg>
                    <span id="countdown-text" class="absolute inset-0 flex items-center justify-center text-2xl font-bold text-base-content">5</span>
                </div>
                <p class="mt-3 text-sm text-base-content/40">Auto-releasing slot...</p>
            </div>

            {# Back button #}
            <div class="fade-up fade-up-4 mt-8">
                <a href="/redis-lottery-queue" class="btn btn-ghost btn-lg rounded-full">
                    Back to Queue
                </a>
            </div>
        </section>
    </main>
{% endblock %}

{% block scripts %}
    {{ vite('resources/js/pages/lottery-queue-success.js') }}
{% endblock %}
